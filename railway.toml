# Railway configuration for backend deployment
# This file configures how Railway builds and deploys the Django backend

[build]
builder = "nixpacks"
buildCommand = "cd backend && pip install --upgrade pip && pip install -r requirements/base.txt && python manage.py collectstatic --noinput"

[deploy]
startCommand = "cd backend && gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 3 --timeout 60 --access-logfile - --error-logfile -"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/api/v1/"
healthcheckTimeout = 100
